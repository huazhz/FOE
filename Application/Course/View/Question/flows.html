<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>题库 | 教师管理后台</title>

    <link href="__THEME__/Inspinia/css/bootstrap.min.css" rel="stylesheet">
    <link href="__THEME__/Inspinia/css/font-awesome.min.css" rel="stylesheet">

    <link href="__THEME__/Inspinia/css/animate.css" rel="stylesheet">
    <link href="__THEME__/Inspinia/css/style.css" rel="stylesheet">

    <link href="__THEME__/Inspinia/css/plugins/awesome-bootstrap-checkbox/awesome-bootstrap-checkbox.css" rel="stylesheet">


</head>

<body class="mini-navbar fixed-sidebar">

    <div id="wrapper ">

        <!--Navbar static left -->
        
            <div id="page-wrapper" class="gray-bg dashbard-1">
                <div class="wrapper wrapper-content animated fadeInRight">
                    <div class="row">
                        <div class="col-lg-12">

                            <div class="ibox">
                                <div class="ibox-content">
                                    <h2>
                                        {$course['title']} 题库
                                    </h2>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="grid" >
                        <volist name="questions" id="question" key="kkk">
                            <div class="grid-item">
                                <div class="ibox">
                                    <div class="ibox-content">
                                        <h4 class="font-bold">{$question['type']} #{$question['id']} </h4>
                                        {$question['stem']|htmlspecialchars_decode|strip_tags|trim}
                                        
                                        <volist name="question['metas']" id="meta">
                                            
                                            <span style="display: inline;"><i  class="radio-meta green" metaid="{$i}" > </i> {$meta|htmlspecialchars_decode} </span>


                                        </volist>
                                        <div class="checkbox checkbox-primary">
                                            <input id="checkbox_{$kkk}" type="checkbox" name="chose[]" qid="{$question['id']}" >
                                            <label for="checkbox_{$kkk}"> 选择 </label>
                                        </div>
                                        
                                    </div>
                                    
                                </div>


                            </div>
                        </volist>
                    </div>

                    <div class="col-lg-12">
                        <button type="button" class="btn btn-primary col-md-offset-9" id="chose">选择</button>
                    </div>
                    <div class="col-lg-12" style="padding-bottom: 30px;"></div>

                </div>
            

            </div>
        </div>

    <!-- Mainly scripts -->
    <script src="__THEME__/Inspinia/js/jquery-2.1.1.js"></script>
    <script src="__THEME__/Inspinia/js/bootstrap.min.js"></script>
    <script src="__THEME__/Inspinia/js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="__THEME__/Inspinia/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

 

    <script src="__THEME__/Inspinia/js/plugins/masonary/masonry.pkgd.min.js"></script>

    <style>

        .grid .ibox {
            margin-bottom: 0;
        }

        .grid-item {
            margin-bottom: 25px;
            width: 300px;
        }
    </style>

    <script type="text/javascript">
        $("#chose").on('click',function(){
            var questions = [];
             $('input:checked').each(function(i,e){
                questions.push($(e).attr('qid'));
            });
            opener.document.getElementById("question_chose").value = questions;
            opener.document.getElementById("chose_help_text2").removeAttribute('class');
            opener.document.getElementById("chose_help_text").removeAttribute('class');
            //alert(questions);
            window.close();
        });
    </script>

<script>
    $(window).load(function() {

        $('.grid').masonry({
            // options
            itemSelector: '.grid-item',
            columnWidth: 300,
            gutter: 25
        });

    });
</script>

<script>
    $(document).ready(function(){
        var metas =$(".radio-meta");
        for($i=0;$i < metas.length; $i++){
            var metaid =metas.eq($i).attr('metaid');
            switch(metaid){
                case '1':
                    metachar ='A';
                break;
                case '2':
                    metachar ='B';
                break;  
                case '3':
                    metachar ='C';
                break;
                case '4':
                    metachar ='D';
                break;
                case '5':
                    metachar ='E';
                break;
                case '6':
                    metachar ='F';
                break;
                case '7':
                    metachar ='G';
                break;
            }
            $(".radio-meta").eq($i).text(metachar);
        }
    });
    
</script>


</body>

</html>
